(window["webpackJsonptriple-stack-puzzle"]=window["webpackJsonptriple-stack-puzzle"]||[]).push([[0],{32:function(e,n,t){e.exports=t(43)},37:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(20),i=t.n(o),c=(t(37),t(9)),l=t(3),u=t(10),s=t(11),h=t(28),d=t(21),f=t(6),v=t(29),b=t(1),p=t(2),O={1:"#ffde03",2:"#0336FF",3:"#FF0266"};function k(){var e=Object(b.a)(["\n  width: 10vh;\n  height: 10vh;\n"]);return k=function(){return e},e}function m(){var e=Object(b.a)(['\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transform: rotate(45deg);\n  \n  ::before, ::after {\n    content: "";\n    position: absolute;\n    z-index: -1;\n    background-color: #4a4a4a;\n  }\n  \n  ::before {\n    left: 50%;\n    width: 10%;\n    margin-left: -5%;\n    height: 100%;\n  }\n  \n  ::after {\n    top: 50%;\n    height: 10%;\n    margin-top: -5%;\n    width: 100%;\n  }\n']);return m=function(){return e},e}function j(){var e=Object(b.a)(["\n     cursor: pointer;\n\n     :hover {\n       box-shadow: 0 0 0 0.5vh #cfcfcf;\n     }\n  "]);return j=function(){return e},e}function w(){var e=Object(b.a)(["\n     box-shadow: 0 0 0 0.5vh #cfcfcf;\n  "]);return w=function(){return e},e}function y(){var e=Object(b.a)(["\n  width: 10vh;\n  height: 10vh;\n  background-color: ",";\n  transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\n  border-radius: 4px;\n  box-shadow: 0 0 0 0.5vh transparent;\n  \n   ","\n   \n   ","\n"]);return y=function(){return e},e}var g=p.b.div(y(),(function(e){var n=e.color;return void 0===n?"#383b41":n}),(function(e){return e.selected&&Object(p.a)(w())}),(function(e){return!e.locked&&Object(p.a)(j())})),x=p.b.div(m()),E=p.b.div(k()),S=function(e){var n=e.selected,t=e.locked,r=e.data,o=e.row,i=e.column,c=e.onSelect,l=t?null:function(){return c(o,i,r)};return a.a.createElement(g,{color:O[r],locked:t||-1===r,selected:n,onClick:l},-1===r?a.a.createElement(x,null):a.a.createElement("span",null))};function C(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-evenly;\n"]);return C=function(){return e},e}function z(){var e=Object(b.a)(["\n  width: 60vh;\n  height: 60vh;\n  margin-top: 2vh;\n  background-color: #2b2f34;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n"]);return z=function(){return e},e}var P=p.b.div(z()),F=p.b.div(C()),M=function(e){var n=e.plane,t=e.selectedCell,r=void 0===t?[]:t,o=e.onSelect;return a.a.createElement(P,null,n.map((function(e,n){return a.a.createElement(F,{key:n},e.map((function(e,t){return a.a.createElement(S,{key:t,data:e,row:n,column:t,selected:r[0]===n&&r[1]===t,onSelect:o})})))})))},G=t(4),B=t.n(G),I=t(5),D=t(17),N=t.n(D),A=t(24),J=t.n(A),W=t(12),R=t.n(W),$=t(25),q=t.n($),H=t(13),K=t.n(H),L=t(26),Q=t.n(L),T=t(18),U=t.n(T),V=t(27),X=t.n(V),Y=new(function(){function e(){Object(u.a)(this,e),this.size=5,this.createNew()}return Object(s.a)(e,[{key:"makePlane",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=B()(N()(Array(n),N()(Array(n),0)),(function(e,n){return B()(e,(function(e,t){return n%2===0&&t%2===1?-1:0}))}));return B()(t,(function(n){return B()(n,(function(n,t){return e.groupOrder[t]||n}))}))}},{key:"move",value:function(e,n,t,r){if(this.canMove(e,n,t,r)){var a=this.plane[t][r],o=this.blankIndexOf(t,r);this.plane[t][r]=this.plane[e][n],this.plane[e][n]=a,this.blanks[o]=[e,n]}}},{key:"canMove",value:function(e,n,t,r){var a=Object(I.a)(this.plane);return!(Math.abs(t-e)>1||Math.abs(r-n)>1)&&((e!==n||t!==r)&&((e===t||n===r)&&(!(t<0||t>=this.size||r<0||r>=this.size)&&(!(e<0||e>=this.size||n<0||n>=this.size)&&(a[e][n]>0&&0===a[t][r])))))}},{key:"isSolved",value:function(){var e=this.groupOrder,n=Object(I.a)(this.plane);return K()(n,(function(n){return K()(n,(function(t,r){return!e[r]||n[r]===e[r]}))}))}},{key:"isSolvedForGroup",value:function(e){var n=this,t=parseInt(J()(Object.keys(this.groupOrder),(function(t){return n.groupOrder[t]===e})));return K()(this.plane,(function(n){return n[t]===e}))}},{key:"isBlank",value:function(e,n){return 0!==this.blankIndexOf(e,n)}},{key:"createNew",value:function(){this.groupOrder=e.makeGroupOrder(),this.plane=this.makePlane(this.size),this.blanks=this.findBlanks(),this.shuffle()}},{key:"shuffle",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3,n=0;n<e;n++){var t=U()(this.blanks.length-1),r=Object(l.a)(this.blanks[t],2),a=r[0],o=r[1],i=this.validMoves(a,o);if(i.length){var c=U()(i.length-1),u=Object(l.a)(i[c],2),s=u[0],h=u[1];this.move(s,h,a,o)}}}},{key:"blankIndexOf",value:function(e,n){var t=Object(I.a)(this.blanks);return X()(t,(function(t){var r=Object(l.a)(t,2),a=r[0],o=r[1];return a===e&&o===n}))}},{key:"validMoves",value:function(e,n){for(var t=[],r=-1;r<2;r++)for(var a=-1;a<2;a++){var o=[e+r,n+a],i=o[0],c=o[1];this.canMove(i,c,e,n)&&(t=[].concat(Object(I.a)(t),[o]))}return t}},{key:"findBlanks",value:function(){var e=Object(I.a)(this.plane),n=[];return R()(e,(function(e,t){return R()(e,(function(e,r){0===e&&(n=[].concat(Object(I.a)(n),[[t,r]]))}))})),n}}],[{key:"makeGroupOrder",value:function(){var e={};return R()(q()([1,2,3]),(function(n,t){return Q()(e,Object(c.a)({},2*t,n))})),e}}]),e}());function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(t,!0).forEach((function(n){Object(c.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ee(){var e=Object(b.a)(["\n  cursor: pointer;\n  border-top: none;\n  transition: box-shadow 0.2s ease-in-out;\n  border-radius: 4px;\n  padding: 4px;\n  box-shadow: 0 0 0 0.1vh white;\n  \n  :hover {\n    box-shadow: 0 0 0 0.3vh white;\n  }\n"]);return ee=function(){return e},e}function ne(){var e=Object(b.a)(["\n  color: white;\n  letter-spacing: 0;\n  padding: 2vh 0;\n  display: flex;\n  align-items: center;\n  font-size: 1.4em;\n  justify-content: space-between;\n"]);return ne=function(){return e},e}function te(){var e=Object(b.a)(["\n  width: 150vh;\n  height: 100vh;\n  display: flex;\n  max-width: 90vw;\n  align-items: center;\n  justify-content: center;\n"]);return te=function(){return e},e}var re=p.b.div(te()),ae=p.b.div(ne()),oe=p.b.span(ee()),ie=function(e){function n(e){var t;return Object(u.a)(this,n),(t=Object(h.a)(this,Object(d.a)(n).call(this,e))).state={plane:Y.plane,selectedCell:[]},t.move=t.move.bind(Object(f.a)(t)),t.restart=t.restart.bind(Object(f.a)(t)),t.handleCellSelection=t.handleCellSelection.bind(Object(f.a)(t)),t}return Object(v.a)(n,e),Object(s.a)(n,[{key:"move",value:function(e,n){var t=Object(l.a)(this.state.selectedCell,2),r=t[0],a=t[1];Y.move(r,a,e,n),this.setState(_({},this.state,{plane:Y.plane}))}},{key:"restart",value:function(){Y.createNew(),this.setState({plane:Y.plane,selectedCell:[]})}},{key:"handleCellSelection",value:function(e,n,t){var r=this.state.selectedCell,a=Object(l.a)(r,2),o=a[0],i=a[1];(0!==t||r)&&(o!==e||i!==n?t>0?this.setState(_({},this.state,{selectedCell:[e,n]})):0===t&&r&&Y.canMove(o,i,e,n)&&(Y.move(o,i,e,n),this.setState({plane:Y.plane,selectedCell:[]})):this.setState(_({},this.state,{selectedCell:[]})))}},{key:"render",value:function(){var e=this,n=this.state,t=n.selectedCell,r=n.plane,o=B()(Y.groupOrder,(function(e){return e})),i=Object(l.a)(o,3),c=i[0],u=i[1],s=i[2];return a.a.createElement(re,null,a.a.createElement("div",null,a.a.createElement(F,null,a.a.createElement(S,{data:c,selected:Y.isSolvedForGroup(c),locked:!0}),a.a.createElement(E,null),a.a.createElement(S,{data:u,selected:Y.isSolvedForGroup(u),locked:!0}),a.a.createElement(E,null),a.a.createElement(S,{data:s,selected:Y.isSolvedForGroup(s),locked:!0})),a.a.createElement(M,{plane:r,selectedCell:t,onSelect:this.handleCellSelection}),a.a.createElement(ae,null,a.a.createElement(oe,{onClick:function(){return e.restart()}},"Restart"),a.a.createElement("span",null,Y.isSolved()?"\u0415\u0431\u0430\u0442\u044c \u0442\u044b \u043a\u0440\u0430\u0441\u0430\u0432\u0430":"3 stacks, the game"))))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.617926aa.chunk.js.map